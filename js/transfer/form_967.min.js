function getAccountDesc(r,e,t){r&&e&&t&&$.ajax({url:URL,type:"POST",dataType:"html",data:{YII_CSRF_TOKEN:csrfToken,accountNumber:CryptoJSAesEncrypt(suid,r),documentType:e,documentNumber:CryptoJSAesEncrypt(suid,t)}}).done(function(r){if(2<r.length){$("#TransferForm_beneficiaryName").val(r);var e=$("#TransferForm_thirdCreditAccount").val()+" - "+r;$("tr.creditAccountDetailView>td","form#transferForm").text(e)}}).fail(function(r,e,t){var n="No se encontraron datos del destinatario";$("#TransferForm_beneficiaryName").val(n),$("tr.creditAccountDetailView>td","form#transferForm").text(n)})}function deleteFrequent(e,t){bootbox.confirm("Est√° seguro que desea borrar la Transferencia Frecuente?",function(r){1==r&&$.ajax({url:t,type:"POST",dataType:"html",data:{YII_CSRF_TOKEN:csrfToken,id:e}}).done(function(r){var e=r.split("*");0<e.length?($("#"+e[2]).parent().parent().remove(),bootbox.alert(e[1])):bootbox.alert(r)})})}!function(f){f(".frequentAccounts").hide(),f("form#transferForm").on("change","#TransferForm_isThird",function(r){var e="form#transferForm",t=f("#TransferForm_thirdCreditAccount",e).parent(),n=f("#TransferForm_thirdDocType",e).parent(),a=f("#TransferForm_thirdDocNumber",e).parent(),o=f("#TransferForm_creditAccount",e).parent(),i=f("#TransferForm_hasAgreement",e).parent(),d=f("#TransferForm_exchangeContract, #TransferForm_creditQuotation",e).parent(),c=f("#TransferForm_saveFrequent",e).parent(),s=f("#TransferForm_beneficiaryName",e).parent();1==f(this).val()?(t.removeClass("hidden").children("input").val(""),n.removeClass("hidden").children("input").val(""),a.removeClass("hidden").children("input").val(""),i.removeClass("hidden"),o.addClass("hidden").children("select").val(0),f(".frequentAccounts").show(),i.removeClass("hidden"),c.removeClass("hidden"),s.removeClass("hidden"),f(".wizard > .content").animate({height:height},"slow")):(f(".frequentAccounts").hide(),t.addClass("hidden").children("input").val(""),n.addClass("hidden").children("input").val(""),a.addClass("hidden").children("input").val(""),i.addClass("hidden").children("select").val(0),d.addClass("hidden"),c.addClass("hidden"),s.addClass("hidden"),o.removeClass("hidden"))}),f("form#transferForm").on("click",".frequentAccounts table tbody tr td",function(r){if(void 0===f(this).find("a").html()){var e=f(this).parent().find("td > input").prop("checked",!0).val();e=JSON.parse(CryptoJSAesDecrypt(suid,e)),f("#TransferForm_thirdCreditAccount").val(e.cuentabeneficiario),f("#TransferForm_beneficiaryName").val(e.nombrebeneficiario),f("#TransferForm_thirdDocType").val(e.tipodocbeneficiario),f("#TransferForm_thirdDocNumber").val(e.numerodocbeneficario),f("tr.creditAccountDetailView>td","form#transferForm").text(e.cuentabeneficiario+" - "+e.nombrebeneficiario)}}),f("form#transferForm").on("change","#TransferForm_debitAccount, #TransferForm_creditAccount",function(r){var e="form#transferForm",t=f("#TransferForm_debitAccount",e),n=f("#TransferForm_creditAccount",e);if(""===t.val()||""===n.val())return!1;var a=t.children("option:selected").text().split(" ").pop(),o=n.children("option:selected").text().split(" ").pop(),i=f("#TransferForm_hasAgreement",e).parent();a!==o?i.removeClass("hidden"):i.addClass("hidden")}),f("form#transferForm").on("change","#TransferForm_hasAgreement",function(r){var e=f("#TransferForm_exchangeContract, #TransferForm_creditQuotation","form#transferForm").parent();1==f(this).val()?e.removeClass("hidden"):e.addClass("hidden")}),f("form#transferForm").on("change","#TransferForm_debitAccount",function(r){var e=f(this).find("option:selected").text(),t=e.split(" "),n=t[t.length-2];f("tr.debitAccountDetailView>td","form#transferForm").text(e),f("#TransferForm_amount","form#transferForm").mask("GS"==n?"#.##0":"#.##0,00",{reverse:!0})}),f("form#transferForm").on("change","#TransferForm_creditAccount",function(r){f("tr.creditAccountDetailView>td","form#transferForm").text(f(this).find("option:selected").text())}),f("form#transferForm").on("change","#TransferForm_thirdCreditAccount, #TransferForm_thirdDocType, #TransferForm_thirdDocNumber",function(r){var e="form#transferForm",t=f("#TransferForm_thirdCreditAccount",e),n=f("#TransferForm_thirdDocType",e),a=f("#TransferForm_thirdDocNumber",e);getAccountDesc(t.val(),n.val(),a.val())}),f("form#transferForm").on("change","#TransferForm_amount",function(r){f("tr.amountDetailView>td","form#transferForm").text(f(this).val())}),f("form#transferForm").on("click",".deleteAccount",function(r){r.preventDefault(),deleteFrequent(f(this).attr("id"),f(this).attr("data-url"))})}(jQuery);