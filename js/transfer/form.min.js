function getAccountDesc(r,e,t){r&&e&&t&&$.ajax({url:URL,type:"POST",dataType:"html",data:{YII_CSRF_TOKEN:csrfToken,accountNumber:CryptoJSAesEncrypt(suid,r),documentType:e,documentNumber:CryptoJSAesEncrypt(suid,t)}}).done(function(r){if(r.length>2){$("#TransferForm_beneficiaryName").val(r);var e=$("#TransferForm_thirdCreditAccount").val()+" - "+r;$("tr.creditAccountDetailView>td","form#transferForm").text(e)}}).fail(function(r,e,t){var n="No se encontraron datos del destinatario";$("#TransferForm_beneficiaryName").val(n),$("tr.creditAccountDetailView>td","form#transferForm").text(n)})}function deleteFrequent(r,e){bootbox.confirm("EstÃ¡ seguro que desea borrar la Transferencia Frecuente?",function(t){1==t&&$.ajax({url:e,type:"POST",dataType:"html",data:{YII_CSRF_TOKEN:csrfToken,id:r}}).done(function(r){var e=r.split("*");e.length>0?($("#"+e[2]).parent().parent().remove(),bootbox.alert(e[1])):bootbox.alert(r)})})}(function(r){r(".frequentAccounts").hide(),r("form#transferForm").on("change","#TransferForm_isThird",function(e){var t="form#transferForm",n=r("#TransferForm_thirdCreditAccount",t).parent(),a=r("#TransferForm_thirdDocType",t).parent(),o=r("#TransferForm_thirdDocNumber",t).parent(),i=r("#TransferForm_creditAccount",t).parent(),d=r("#TransferForm_hasAgreement",t).parent(),c=r("#TransferForm_exchangeContract, #TransferForm_creditQuotation",t).parent(),s=r("#TransferForm_saveFrequent",t).parent(),f=r("#TransferForm_beneficiaryName",t).parent();1==r(this).val()?(n.removeClass("hidden").children("input").val(""),a.removeClass("hidden").children("input").val(""),o.removeClass("hidden").children("input").val(""),d.removeClass("hidden"),i.addClass("hidden").children("select").val(0),r(".frequentAccounts").show(),d.removeClass("hidden"),s.removeClass("hidden"),f.removeClass("hidden"),r(".wizard > .content").animate({height:height},"slow")):(r(".frequentAccounts").hide(),n.addClass("hidden").children("input").val(""),a.addClass("hidden").children("input").val(""),o.addClass("hidden").children("input").val(""),d.addClass("hidden").children("select").val(0),c.addClass("hidden"),s.addClass("hidden"),f.addClass("hidden"),i.removeClass("hidden"))}),r("form#transferForm").on("click",".frequentAccounts table tbody tr td",function(e){if(void 0===r(this).find("a").html()){var t=r(this).parent().find("td > input").prop("checked",!0).val();t=JSON.parse(CryptoJSAesDecrypt(suid,t)),r("#TransferForm_thirdCreditAccount").val(t.cuentabeneficiario),r("#TransferForm_beneficiaryName").val(t.nombrebeneficiario),r("#TransferForm_thirdDocType").val(t.tipodocbeneficiario),r("#TransferForm_thirdDocNumber").val(t.numerodocbeneficario),r("tr.creditAccountDetailView>td","form#transferForm").text(t.cuentabeneficiario+" - "+t.nombrebeneficiario)}}),r("form#transferForm").on("change","#TransferForm_debitAccount, #TransferForm_creditAccount",function(e){var t="form#transferForm",n=r("#TransferForm_debitAccount",t),a=r("#TransferForm_creditAccount",t);if(""===n.val()||""===a.val())return!1;var o=n.children("option:selected").text().split(" ").pop(),i=a.children("option:selected").text().split(" ").pop(),d=r("#TransferForm_hasAgreement",t).parent();o!==i?d.removeClass("hidden"):d.addClass("hidden")}),r("form#transferForm").on("change","#TransferForm_hasAgreement",function(e){var t=r("#TransferForm_exchangeContract, #TransferForm_creditQuotation","form#transferForm").parent();1==r(this).val()?t.removeClass("hidden"):t.addClass("hidden")}),r("form#transferForm").on("change","#TransferForm_debitAccount",function(e){var t=r(this).find("option:selected"),n=t.text(),a=n.split(" "),o=a[a.length-2];r("tr.debitAccountDetailView>td","form#transferForm").text(n),r("#TransferForm_amount","form#transferForm").mask("GS"==o?"#.##0":"#.##0,00",{reverse:!0}),r("#TransferForm_creditAccount").val("").children("option").show().filter("option[value="+t.val()+"]").hide()}),r("form#transferForm").on("change","#TransferForm_creditAccount",function(e){r("tr.creditAccountDetailView>td","form#transferForm").text(r(this).find("option:selected").text())}),r("form#transferForm").on("change","#TransferForm_thirdCreditAccount, #TransferForm_thirdDocType, #TransferForm_thirdDocNumber",function(e){var t="form#transferForm",n=r("#TransferForm_thirdCreditAccount",t),a=r("#TransferForm_thirdDocType",t),o=r("#TransferForm_thirdDocNumber",t);getAccountDesc(n.val(),a.val(),o.val())}),r("form#transferForm").on("change","#TransferForm_amount",function(e){r("tr.amountDetailView>td","form#transferForm").text(r(this).val())}),r("form#transferForm").on("click",".deleteAccount",function(e){e.preventDefault();var t=r(this).attr("id"),n=r(this).attr("data-url");deleteFrequent(t,n)})})(jQuery);